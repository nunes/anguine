{% extends 'layout.html' %} {% block body %} {# Angular.js template #}
{% raw %}

<div ng-controller="WindowCtrl">

	<h1>Main</h1>

	<button class="btn btn-primary" href="#addTaskModal" role="button"
		data-toggle="modal">Add task</button>

	<br> <br> <span ng-hide="taskCount">Your tasklist is
		empty</span>

	<table class="table table-striped table-bordered table-hover"
		ng-show="taskCount" ng-cloak>
		<thead>
			<tr>
				<th>Description</th>
				<th>Label</th>
				<th style="width: 3.5rem;">&nbsp;</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="task in tasks" ng-cloak>
				<td>{{ task.description }}</td>
				<td>{{ task.label }}</td>
				<td class="text-center">
					<button class="btn btn-danger" href="#deleteTaskModal"
						role="button" data-toggle="modal"
						ng-click="openRemoveTask(task)">
						<i class="icon-trash"></i>
					</button>
				</td>
			</tr>
		</tbody>
	</table>

	<!-- Modal Add Task -->
	<div id="addTaskModal" class="modal hide fade" tabindex="-1"
		role="dialog" aria-labelledby="addTaskModalLabel" aria-hidden="true">
		<form ng-submit="addTask()">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">x</button>
				<h3 id="addTaskModalLabel">Add Task</h3>
			</div>
			<div class="modal-body">
				<fieldset>
					<label>Task</label> <input type="text"
						placeholder="Type task description..." ng-model="newTask" required>
					<span class="help-block">Type the task description.</span> <label>Label</label>
					<input type="text" placeholder="Type a label for the task..."
						ng-model="newTaskLabel"> <span class="help-block">Type
						a label for your task.</span>
				</fieldset>
			</div>
			<div class="modal-footer">
				<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
				<button class="btn btn-primary">Save changes</button>
			</div>
		</form>
	</div>

	<!-- Modal Delete Task -->
	<div id="deleteTaskModal" class="modal hide fade" tabindex="-1"
		role="dialog" aria-labelledby="deleteTaskModalLabel"
		aria-hidden="true">
		<form ng-submit="confirmRemoveTask()">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">x</button>
				<h3 id="deleteTaskModalLabel">Delete task?</h3>
			</div>
			<div class="modal-body">
				<fieldset>
					<label>Task</label> <span class="help-block">{{removeTask.description}}</span>
				</fieldset>
			</div>
			<div class="modal-footer">
				<button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
				<button class="btn btn-danger">Delete</button>
			</div>
		</form>
	</div>


</div>

{% endraw %}

{% endblock %}
